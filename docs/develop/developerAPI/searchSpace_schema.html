<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>searchSpace Schema</title>
    <link rel="stylesheet" href="../../style.css" />
    <script src="../../menu.js"></script>
    <style>
      .node-type {
        padding: 2px 8px;
        border-radius: 4px;
        color: white;
        display: inline-block;
        margin: 2px 0;
      }
      .account {
        background-color: #3498db;
      }
      .floating {
        background-color: #006400;
      }
      .usd-secured {
        background-color: #b87333;
      }
      .cad-secured {
        background-color: #008080;
      }
      .credex {
        background-color: #4b0082;
      }
    </style>
  </head>
  <body>
    <div class="header-logo">
      <img src="../../images/logo.png" alt="Credex Logo" class="secondary-logo" />
    </div>
    <div class="container">
      <h1>searchSpace Schema</h1>

      <p>
        The SearchSpace schema represents a simplified and optimized version of
        the ledger space, designed for efficient loop finding in the Credex
        ecosystem. This schema is optimized to facilitate the resource-efficient
        identification of credloops for the Minute Transaction Queue (MTQ)
        process.
      </p>

      <h2>Graph Structure Overview</h2>
      <pre>
Account ----FLOATING----> SearchAnchor(FLOATING) ----FLOATING----> Account
                                    |
                                    +----SEARCH_SECURED----> Credex

Account ----USD_SECURED--> SearchAnchor(USD_SECURED) ----USD_SECURED----> Account
                                    |
                                    +----SEARCH_SECURED----> Credex

Account ----CAD_SECURED--> SearchAnchor(CAD_SECURED) ----CAD_SECURED----> Account
                                    |
                                    +----SEARCH_SECURED----> Credex
        </pre
      >

      <h2>Node Properties</h2>

      <h3>Account</h3>
      <table>
        <tr>
          <th>Property</th>
          <th>Type</th>
        </tr>
        <tr>
          <td>accountID</td>
          <td>string</td>
        </tr>
        <tr>
          <td>accountName</td>
          <td>string</td>
        </tr>
      </table>

      <h3>SearchAnchor</h3>
      <table>
        <tr>
          <th>Property</th>
          <th>Type</th>
        </tr>
        <tr>
          <td>searchAnchorID</td>
          <td>string</td>
        </tr>
        <tr>
          <td>earliestDueDate</td>
          <td>Date</td>
        </tr>
      </table>

      <h3>Credex</h3>
      <table>
        <tr>
          <th>Property</th>
          <th>Type</th>
        </tr>
        <tr>
          <td>credexID</td>
          <td>string</td>
        </tr>
        <tr>
          <td>outstandingAmount</td>
          <td>number</td>
        </tr>
        <tr>
          <td>Denomination</td>
          <td>string</td>
        </tr>
        <tr>
          <td>CXXmultiplier</td>
          <td>number</td>
        </tr>
        <tr>
          <td>dueDate</td>
          <td>Date</td>
        </tr>
      </table>

      <h2>Relationship Properties</h2>

      <h3>FLOATING</h3>
      <p>No properties</p>

      <h3>USD_SECURED, CAD_SECURED</h3>
      <p>No properties</p>

      <h3>SEARCH_SECURED</h3>
      <p>No properties</p>

      <h2>Explanation</h2>

      <ol>
        <li>
          <strong>Accounts</strong> <span class="node-type account">Blue</span
          ><br />
          These are simplified versions of the accounts in the ledger space.
          They contain only essential information needed for loop finding.
        </li>

        <li>
          <strong>SearchAnchors</strong><br />
          These nodes come in three types:
          <ul>
            <li>
              <span class="node-type floating">FLOATING</span> Represent
              unsecured credit relationships between accounts.
            </li>
            <li>
              <span class="node-type usd-secured">USD_SECURED</span> Represent
              secured credit relationships in USD.
            </li>
            <li>
              <span class="node-type cad-secured">CAD_SECURED</span> Represent
              secured credit relationships in CAD.
            </li>
          </ul>
        </li>

        <li>
          <strong>Credexes</strong> <span class="node-type credex">Purple</span
          ><br />
          These represent individual credit transactions in the system.
        </li>

        <li>
          <strong>Relationships</strong>
          <ul>
            <li>
              <strong>FLOATING:</strong> Connects accounts to floating
              SearchAnchors, representing unsecured credit relationships.
            </li>
            <li>
              <strong>USD_SECURED:</strong> Connect accounts to USD_SECURED
              SearchAnchors, representing secured credit relationships in USD.
            </li>
            <li>
              <strong>CAD_SECURED:</strong> Connect accounts to CAD_SECURED
              SearchAnchors, representing secured credit relationships in CAD.
            </li>
            <li>
              <strong>SEARCH_SECURED:</strong> Links SearchAnchors to Credexes,
              allowing for efficient traversal during loop finding.
            </li>
          </ul>
        </li>
      </ol>

      <p>
        This optimized structure allows the Minute Transaction Queue to quickly
        identify potential credit loops by traversing the relationships between
        Accounts, SearchAnchors, and Credexes. The use of SearchAnchors as
        intermediary nodes between Accounts and Credexes significantly reduces
        the complexity of loop finding algorithms, enabling faster processing of
        transactions in the Credex ecosystem.
      </p>
    </div>
  </body>
</html>
