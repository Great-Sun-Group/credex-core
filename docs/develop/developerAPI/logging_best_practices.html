<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Logging Best Practices</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Logging Best Practices</h1>

      <h2>General Guidelines</h2>
      <ol>
        <li>
          Use the <code>logger</code> object imported from
          <code>config/logger.ts</code> for all logging operations.
        </li>
        <li>
          Avoid using <code>console.log()</code>, <code>console.error()</code>,
          or <code>console.warn()</code> directly in the code.
        </li>
        <li>
          Choose the appropriate log level based on the importance and nature of
          the information being logged.
        </li>
      </ol>

      <h2>Log Levels</h2>
      <ul>
        <li>
          <code>logger.error()</code>: Use for errors that affect the
          application's functionality and require immediate attention.
        </li>
        <li>
          <code>logger.warn()</code>: Use for potentially harmful situations
          that don't prevent the application from functioning.
        </li>
        <li>
          <code>logger.info()</code>: Use for general information about the
          application's state and important operations.
        </li>
        <li>
          <code>logger.debug()</code>: Use for detailed information useful
          during development and troubleshooting.
        </li>
      </ul>

      <h2>Best Practices</h2>
      <ol>
        <li>
          <strong>Be Consistent</strong>: Use the same logging style and level
          of detail throughout the application.
        </li>

        <li>
          <strong>Include Context</strong>: Always include relevant context with
          log messages, such as request IDs, user IDs, or other identifiers that
          can help in troubleshooting.
          <pre><code>logger.info("User logged in", { userId: user.id, requestId: req.id });</code></pre>
        </li>

        <li>
          <strong>Avoid Sensitive Information</strong>: Never log sensitive
          information such as passwords, tokens, or personal data.
        </li>

        <li>
          <strong>Use Appropriate Log Levels</strong>: Choose the log level that
          best matches the importance of the message.
        </li>

        <li>
          <strong>Log Errors Properly</strong>: When logging errors, include the
          full error object or stack trace.
          <pre><code>try {
  // Some operation
} catch (error) {
  logger.error("Operation failed", { error });
}</code></pre>
        </li>

        <li>
          <strong>Log at Service Boundaries</strong>: Log incoming requests and
          outgoing responses at service boundaries to aid in debugging and
          monitoring.
        </li>

        <li>
          <strong>Use Structured Logging</strong>: Use objects for additional
          context rather than string concatenation.
          <pre><code>// Good
logger.info("Processing order", { orderId: order.id, amount: order.amount });

// Avoid
logger.info(`Processing order ${order.id} with amount ${order.amount}`);</code></pre>
        </li>

        <li>
          <strong>Log Lifecycle Events</strong>: Log application startup,
          shutdown, and other important lifecycle events.
        </li>

        <li>
          <strong>Be Mindful of Performance</strong>: Avoid excessive logging,
          especially in high-traffic code paths. Use debug level for verbose
          logging that can be enabled when needed.
        </li>

        <li>
          <strong>Use Logger Namespaces</strong>: If your logging library
          supports it, use namespaces to categorize logs from different parts of
          your application.
        </li>
      </ol>

      <p>
        By following these best practices, we can maintain a consistent and
        effective logging strategy throughout our application, making it easier
        to monitor, debug, and maintain our codebase.
      </p>
    </div>
  </body>
</html>
